<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META NAME="Generator" CONTENT="WebWriter/2 v1.2">
<TITLE>ASC documentation: The Source</TITLE>
	<LINK REL="stylesheet" TYPE="text/css" HREF="asc.css">
</HEAD>

<BODY text="#000000" bgcolor="#ffffff">

<CENTER>
<H1>Advanced Strategic Command</H1>
<P>documentation<P>
<H2>The Source - Instructions for the Watcom compiler</H2>
</CENTER>


<H3>Required Tools</H3>
<H4>for building the DOS version</H4>
The DOS version has been discontinued, mainly because of limited support for certain C++ language constructs by Watcom C++. The build instruction are left here for the case that some future version of Watcom C++ may be ANSI C++ compliant.

<BLOCKQUOTE>
We are developing the project with Watcom C/C++ Version 11.0b. The project files for the Watcom IDE are included. It has been anounced that Watcom C/C++ is going to be released as Open Source. Check out <A HREF="http://www.openwatcom.org">www.openwatcom.org</A>.<P>
The assembler files (with the exception of <TT>RDTSC.ASM</TT>) can not be assembled by WASM since it does not support the high level language interfaces that TASM ( we are using version 3.2) provides. The bach file <TT>asc\source\watcom.bat</TT> assembles all asm files that are needed, provided that TASM is in the path. But the assembled OBJ files are included so you don't need Tasm unless you want to modify the assembler files.<P>

Since Watcom C++ does not come with the STL, we use STLport 4.0 which can be obtained from <A HREF="http://www.stlport.org">www.stlport.org</A>. Some notes about installing STLPORT 4.0 :
<UL>
<LI>Include the stlport directory to your INCLUDE enivironment variable before the original watcom entries. 
<LI>You may also need to edit the file stlport\stl_user_config.h and uncomment line <TT>#define __STL_NO_SGI_IOSTREAMS</TT>.
<LI>Edit file stlport\stl\_alloc.h, line #879 and add an extra '0' argument:<BR>
<TT>return __stl_alloc_rebind(__STATIC_CAST(_Base&.*this),(_Tp*)0).allocate(__n,0); </TT>
</UL>

Please read the <A HREF="../source/libs/readme.txt">library readme</A> file as well. There are the links for getting the JPEG sources.

As host platform for the development we use OS/2 and as target platform (you should have already noticed that) DOS with DOS4GW as 32bit extender. It should be no problem to develop with Win9x as host platform with Watcom C/C++ except that debugging might be a bit problematic, but that's neither our not Watcom's fault (why is Microsoft not capable of implementing DPMI 1.0 ??).<P>
</BLOCKQUOTE>


<H4>for building the Windows version</H4>

Until December 2000 we built ASC/win with Watcom C/C++ , but since it is not fully ANSI C++ compliant, it cannot compile the AI. Perhaps some future version of Watcom C++ will understand all the C++, so here are the (old) instructions on how to build ASC with Watcom C++
<BLOCKQUOTE>
To build ASC/win with Watcom, you need:
<UL>
<LI>STLport. See the paragraph about it in the DOS section.
<LI>JPEG-lib by the <A HREF="http://www.ijg.org">Independant Jpeg Group</A>. On their homepage are links where you can download the source code.
<LI>Uncompress the JPEG-lib source code into asc/source/libs/jpeg-6b/
<LI>SDL. It can be downloaded from <A HREF="http://www.libsdl.org">www.libsdl.org</A>. You need the source code and the DLL file (version 1.1 or newer). 
<LI>Uncompress the SDL source  to some directory and define an environment variable SDLDIR which points to this directory (without a trailing backslash). 
<LI>Create a subdirectory called DLL in asc/source/sdl and put the SDL.DLL into it.
</UL>
The project files for the Watcom IDE are included in the asc/source/win32 directory. 
<P>
</BLOCKQUOTE>


</BODY>
</HTML>
